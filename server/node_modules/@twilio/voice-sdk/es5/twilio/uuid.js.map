{"version":3,"file":"uuid.js","sourceRoot":"","sources":["../../lib/twilio/uuid.ts"],"names":[],"mappings":";AAAA;;;;GAIG;;AAEH,yBAA2B;AAC3B,2CAAqD;AAErD,SAAS,YAAY;IACnB,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;QAC9B,MAAM,IAAI,0BAAiB,CAAC,iCAAiC,CAAC,CAAC;KAChE;IAED,IAAM,MAAM,GAA2C,MAAM,CAAC,MAAM,CAAC;IACrE,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;QAC9B,MAAM,IAAI,0BAAiB,CACzB,wDAAwD,CACzD,CAAC;KACH;IACD,IAAI,OAAO,CAAC,MAAM,CAAC,UAAU,IAAI,MAAM,CAAC,eAAe,CAAC,KAAK,WAAW,EAAE;QACxE,MAAM,IAAI,0BAAiB,CACzB,wEAAwE;YACxE,mBAAmB,CACpB,CAAC;KACH;IAED,IAAM,SAAS,GAAuB,MAAM,CAAC,WAAW,CAAC;IACzD,IAAI,OAAO,SAAS,KAAK,WAAW,EAAE;QACpC,MAAM,IAAI,0BAAiB,CACzB,6DAA6D,CAC9D,CAAC;KACH;IAED,IAAM,oBAAoB,GACxB,OAAO,MAAM,CAAC,UAAU,KAAK,UAAU;QACrC,CAAC,CAAC,cAAM,OAAA,MAAM,CAAC,UAAW,EAAE,EAApB,CAAoB;QAC5B,CAAC,CAAC,cAAM,OAAA,MAAM,CAAC,eAAe,CAAC,IAAI,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAtD,CAAsD,CAAC;IAEnE,OAAO,GAAG,CAAC,oBAAoB,EAAE,CAAC,CAAC;AACrC,CAAC;AAED,SAAgB,qBAAqB;IACnC,OAAO,OAAK,YAAY,EAAI,CAAC;AAC/B,CAAC;AAFD,sDAEC","sourcesContent":["/**\n * @packageDocumentation\n * @module Voice\n * @internalapi\n */\n\nimport * as md5 from 'md5';\nimport { NotSupportedError } from '../twilio/errors';\n\nfunction generateUuid(): string {\n  if (typeof window !== 'object') {\n    throw new NotSupportedError('This platform is not supported.');\n  }\n\n  const crypto: Crypto & { randomUUID?: () => string } = window.crypto;\n  if (typeof crypto !== 'object') {\n    throw new NotSupportedError(\n      'The `crypto` module is not available on this platform.',\n    );\n  }\n  if (typeof (crypto.randomUUID || crypto.getRandomValues) === 'undefined') {\n    throw new NotSupportedError(\n      'Neither `crypto.randomUUID` or `crypto.getRandomValues` are available ' +\n      'on this platform.',\n    );\n  }\n\n  const uInt32Arr: typeof Uint32Array = window.Uint32Array;\n  if (typeof uInt32Arr === 'undefined') {\n    throw new NotSupportedError(\n      'The `Uint32Array` module is not available on this platform.',\n    );\n  }\n\n  const generateRandomValues: () => string =\n    typeof crypto.randomUUID === 'function'\n      ? () => crypto.randomUUID!()\n      : () => crypto.getRandomValues(new Uint32Array(32)).toString();\n\n  return md5(generateRandomValues());\n}\n\nexport function generateVoiceEventSid() {\n  return `KX${generateUuid()}`;\n}\n"]}